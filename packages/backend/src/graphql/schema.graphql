# Built-in scalars
scalar Date
scalar DateTime
scalar EmailAddress
scalar NonEmptyString

scalar UID

type User {
  id: UID,
  firstname: String, 
  lastname: String, 
  email: EmailAddress, 
  admin: Boolean,
  created_at: DateTime,
  archived: Boolean,
  blocked: Boolean
}

input CreateUser {
  firstname: NonEmptyString!,
  lastname: NonEmptyString!, 
  pwd: NonEmptyString!,
  email: EmailAddress!,
  admin: Boolean!
}

type UsersQuery {
  test: Boolean!
  findById(id: UID!): User!
  search(term: NonEmptyString!): [User]!
}

type Query {
  add(x: Int, y: Int): Int
  Users: UsersQuery
}

type UsersMutation {
  insert(user: CreateUser!): Boolean!
  updatePassword(id: UID!, pwd: NonEmptyString!): Boolean!
}

type AuthMutation {
  login(email: EmailAddress!, pwd: String!): User!
  renew: User!
  logout: Boolean!
}

type Mutation {
  Users: UsersMutation
  Auth: AuthMutation
}